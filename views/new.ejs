<%- include("partials/header") %>
<div class="container-fluid new-container">
    <div class="row justify-content-around align-items-center">
      <div class="col-lg-5 image-container">
            <h2 class="bolder"><a href="/places"><img class="img-fluid arrow-image" src="/images/arrow.svg" alt=""></a>  Add Place</h2>
            <img class="img-fluid" src="/images/travel-illustration.svg">
      </div>
      <div class="col-lg-5">
            <div class="container-fluid form-container">
                <form action="/places" id="addForm" method="POST">
                    <h4>Add Details about the place where you have visited.</h4>
                    <br>
                    <div class="form-group">
                        <label for="city" class="bolder">City</label>
                        <input type="text" class="form-control form-req" id="city" name="name" placeholder="city">
                    </div>
                    <div class="form-group">
                        <label for="image" class="bolder">Photo URL</label>
                        <input type="text" class="form-control form-req" id="image" name="image" placeholder="photo url">
                    </div>
                    <div class="form-group">
                        <label for="info" class="bolder">Few words about this place</label>
                        <textarea id="info" class="form-control form-req" name="info" rows="3"></textarea>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="inlineCheckbox1" onClick="displayDate()" name="isVisited" value="true">
                        <label class="form-check-label bolder" for="inlineCheckbox1">VISITED</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="isBucket" value="true">
                        <label class="form-check-label bolder" for="inlineCheckbox2">BUCKET-LIST</label>
                    </div>
                    <br>
                    <br>
                    <div class="form-group" id="datediv">
                        <label for="date" class="bolder">When did you travel here?</label>
                        <input type="text" class="form-control" id="date" name="date" placeholder="date">
                    </div>  
                    <div class="error-message hide"></div>
                    <div style="display: flex; justify-content: flex-end">
                    <button type="button" onclick="validateFields()" class="addButton">ADD PLACE</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script>
    function displayDate() {

  var checkBox = document.getElementById("inlineCheckbox1");
  var date = document.getElementById("datediv");

  if (checkBox.checked == true){
    date.style.display = "block";
  } else {
    date.style.display = "none";
  }
}

    function validateFields() {
        var emptyField = false,
            errorText = "";
            console.log(fields);
         var form = $("#addForm"),
             fields = $("#addForm .form-req"),
             errorMessage = $("#addForm .error-message");
             for(let i=0; i<fields.length ;i++){
                        if(fields[i].value === ""){
                        emptyField = true;
                        errorText = "All Fields are Required";
                        break;
                        }
                    }
                    if(emptyField){
                        errorMessage.text(errorText);
                        errorMessage.removeClass("hide");
                    }else{
                        errorMessage.addClass("hide");
                        form.submit();
                    }

    }
</script>

<%- include("partials/footer") %>
